<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yinqiao.af.mapper.QuestionnaireLogMapper">
  <resultMap id="BaseResultMap" type="com.yinqiao.af.model.QuestionnaireLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 25 16:20:42 CST 2018.
    -->
    <id column="LOGSID" jdbcType="VARCHAR" property="logsid" />
    <result column="QUESTIONID" jdbcType="VARCHAR" property="questionid" />
    <result column="TESTID" jdbcType="VARCHAR" property="testid" />
    <result column="TESTANSWER" jdbcType="VARCHAR" property="testanswer" />
    <result column="WJNUMS" jdbcType="VARCHAR" property="wjnums" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 25 16:20:42 CST 2018.
    -->
    delete from WJ_LOGS
    where LOGSID = #{logsid,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.yinqiao.af.model.QuestionnaireLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 25 16:20:42 CST 2018.
    -->
    insert into WJ_LOGS (LOGSID, QUESTIONID, TESTID, 
      TESTANSWER, WJNUMS)
    values (#{logsid,jdbcType=VARCHAR}, #{questionid,jdbcType=VARCHAR}, #{testid,jdbcType=VARCHAR}, 
      #{testanswer,jdbcType=VARCHAR}, #{wjnums,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.yinqiao.af.model.QuestionnaireLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 25 16:20:42 CST 2018.
    -->
    update WJ_LOGS
    set QUESTIONID = #{questionid,jdbcType=VARCHAR},
      TESTID = #{testid,jdbcType=VARCHAR},
      TESTANSWER = #{testanswer,jdbcType=VARCHAR},
      WJNUMS = #{wjnums,jdbcType=VARCHAR}
    where LOGSID = #{logsid,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 25 16:20:42 CST 2018.
    -->
    select LOGSID, QUESTIONID, TESTID, TESTANSWER, WJNUMS
    from WJ_LOGS
    where LOGSID = #{logsid,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri May 25 16:20:42 CST 2018.
    -->
    select LOGSID, QUESTIONID, TESTID, TESTANSWER, WJNUMS
    from WJ_LOGS
  </select>
  
  <select id="queryMaxIndex" parameterType="java.lang.String" resultType="java.lang.String">
  	select max(substr(t.questionid,4,6)) from WJ_LOGS t where substr(t.questionid,0,3) = #{regCode,jdbcType=VARCHAR}
  </select>
</mapper>